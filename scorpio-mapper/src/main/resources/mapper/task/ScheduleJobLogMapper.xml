<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.acyou.scorpio.task.mapper.ScheduleJobLogMapper">

    <resultMap id="Base_Result_Map" type="cn.acyou.scorpio.task.entity.ScheduleJobLog">
        <result column="log_id" jdbcType="BIGINT" property="logId"/>
        <result column="job_id" jdbcType="BIGINT" property="jobId"/>
        <result column="bean_name" jdbcType="VARCHAR" property="beanName"/>
        <result column="params" jdbcType="VARCHAR" property="params"/>
        <result column="status" jdbcType="INTEGER" property="status"/>
        <result column="error" jdbcType="VARCHAR" property="error"/>
        <result column="times" jdbcType="INTEGER" property="times"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="remark" jdbcType="VARCHAR" property="remark"/>
    </resultMap>

    <sql id="Base_Column_List">
        log_id, job_id, bean_name, params, status, error, times, create_time, remark
    </sql>

    <sql id="Alisa_Column_List">
        t.log_id, t.job_id, t.bean_name, t.params, t.status, t.error, t.times, t.create_time, t.remark
    </sql>

    <update id="updateListSelective">
        <if test="list==null or list.size()==0">
            select 0 from dual
        </if>
        <foreach collection="list" item="it">
            update t_task_schedule_job_log
            <set>
                <if test="it.jobId!=null">job_id = #{it.jobId},</if>
                <if test="it.beanName!=null and it.beanName!=''">bean_name = #{it.beanName},</if>
                <if test="it.params!=null and it.params!=''">params = #{it.params},</if>
                <if test="it.status!=null">status = #{it.status},</if>
                <if test="it.error!=null and it.error!=''">error = #{it.error},</if>
                <if test="it.times!=null">times = #{it.times},</if>
                <if test="it.createTime!=null">create_time = #{it.createTime},</if>
                <if test="it.remark!=null and it.remark!=''">remark = #{it.remark},</if>
            </set>
            WHERE id = #{it.id};
        </foreach>
    </update>


</mapper>