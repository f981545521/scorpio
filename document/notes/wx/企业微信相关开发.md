## 企业微信开发

https://work.weixin.qq.com/api/doc/90000/90135/90664  服务端API

https://work.weixin.qq.com/api/doc/90000/90136/92455  客户端API


外部联系人，是员工个人添加的，普通微信的联系人。没法推送消息的

企业微信获取手机号码不需要用户授权，是后端通过这个接口获取：https://work.weixin.qq.com/api/doc/90000/90135/90196

## 企业微信小程序开发


1. 需要下载插件
https://developers.weixin.qq.com/miniprogram/dev/devtools/qywx-dev.html

2. 发送企业微信消息
https://work.weixin.qq.com/api/doc/90000/90135/90236#markdown%E6%B6%88%E6%81%AF

                           api forbidden, hint: [1610949005_50_3e9c9ff5315244f6ef865cca6c21f50f], from ip: 114.222.242.236, more info at https://open.work.weixin.qq.com/devtool/query?e=48002
{"errcode":48002,"errmsg":"api forbidden, hint: [1610950061_50_84b4d9f4117d4baac02c37623a710cb6], from ip: 114.222.242.236, more info at https://open.work.weixin.qq.com/devtool/query?e=48002"}
{"errcode":40029,"errmsg":"invalid code, hint: [1610950991_50_c090c25c119170c4f13f1b9dad1efdb0], from ip: 114.222.242.236, more info at https://open.work.weixin.qq.com/devtool/query?e=40029"}



https://qyapi.weixin.qq.com/cgi-bin/miniprogram/jscode2session?access_token=Ak0UPVSjS1SboHeJJesCuJGS0EZpn-dGYTzAnEF_IbZ-57ah3T5ha_oi6-i5iNpmQL_8Rb7xzR2pIeUJD_U74xtfR9NHfqthVcYgQbUs5tv74NPFWE3A2FCkdZeRdBUyJ0fHKWY4lCo-vI6aiSaNYi2f9ncLaar5o2YdVu6HjUgRTTBkAy8RInLMud3Aa3pSFLU8IgtR8BPYtjOA2SWOSA&js_code=a59hdgrGV22ibi-t0om8sAlfSF2_Z3KQrMA0Xn5KI-I&grant_type=authorization_code


https://spdtest.zhengyatech.cn/api/thirdAccount/bindThirdAccount?thirdAccountType=123
https://spdtest.zhengyatech.cn/api/thirdAccount/bindThirdAccount



您好，现在企业微信不支持获取手机号和邮箱了，现在敏感信息只支持获取头像和员工二维码，


https://developers.weixin.qq.com/community/develop/doc/0008caf41c0408dc0d79cf40851000


https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx9459ec209f2a64d7&redirect_uri=http://192.168.1.95:8034/thirdBind/bindThirdAccount&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect




https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx9459ec209f2a64d7&redirect_uri=https://spdtest.zhengyatech.cn/api/thirdAccount/bindThirdAccount?thirdAccountType=weixin&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect

https://open.weixin.qq.com/connect/qrconnect?appid=wx9459ec209f2a64d7&redirect_uri=https://spdtest.zhengyatech.cn/thirdBind/bindThirdAccount?thirdAccountType=weixin&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect



https://open.weixin.qq.com/connect/qrconnect?appid=wx9459ec209f2a64d7&scope=snsapi_login&redirect_uri=http://192.168.1.95:8034/thirdBind/bindThirdAccount?thirdAccountType=weixin&state=spd&login_type=jssdk&self_redirect=default&style=white



https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&response_type=code&scope=snsapi_login&state=3d6be0a4035d839573b04816624a415e#wechat_redirect

https://open.weixin.qq.com/connect/qrconnect?appid=wx9459ec209f2a64d7&redirect_uri=https://spdtest.zhengyatech.cn/thirdBind/bindThirdAccount&response_type=code&scope=snsapi_login&state=3d6be0a4035d839573b04816624a415e#wechat_redirect








https://api.weixin.qq.com/sns/userinfo?access_token=41_Tsbgh8kl4eVomqmP_N6QKiN27nVYOzHMOLjOvYQRBXd3oozXzrF51tJtmlU6DSrDdVYe3vF5gFXlKoMtEZM_96DOp4FACZqepWUNkJAL9UU&openid=oymzYs6-ZEP3TgUeyNvb1BHu8sgU&lang=zh_CN



http://192.168.1.95:8034/thirdAccount/bindThirdAccount?thirdAccountType=weixin&code=12345




"data": "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx9459ec209f2a64d7&redirect_uri=https://spdtest.zhengyatech.cn/api/thirdAccount/bindThirdAccount?thirdAccountType=weixin&enterpriseId=5685&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect"





42["pc_weixin_login","{\"status\":2,\"weixin_info\":{\"open_id\":\"odP8I0RYY_NgGM3DVuvb6Q1MUGy4\",\"publickey\":\"55e7f98c26e60de947ff37dc747602a1\",\"time\":1611560595,\"appid\":\"wx5db79bd23a923e8e\",\"nickName\":\"\",\"avatar\":\"\",\"keepstate\":false},\"is_new\":2}"]



"data": "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx9459ec209f2a64d7&redirect_uri=https://spdtest.zhengyatech.cn/api/thirdAccount/bindSupplierWx?thirdAccountType=weixin&response_type=code&scope=snsapi_userinfo&state=ff3630695e344f178ccd1dce886a6e76#wechat_redirect"




















